<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bai tap Ung dung quan ly san pham su dung ham</title>
</head>
<body>
<h2>Add New Product</h2>
<label for="inputNewProduct"></label>
<input type="text" id="inputNewProduct" placeholder="New Product">
<button type="button" onclick="addProduct()">ADD</button>
<br>
<h3> Display All Product</h3>
<p id="displayProduct"></p>
<script>
    let arr = [];

    function addProduct() {
        let inputProduct = document.getElementById('inputNewProduct').value;
        if (Boolean(inputProduct)) {
            if (arr.indexOf(inputProduct) === -1) {
                arr.push(inputProduct);
                displayProduct();
                document.getElementById('inputNewProduct').value = "";
            } else {
                alert('San pham nay da co');
            }
        } else {
            alert('Vui long nhap lai.')
        }

    }

    function displayProduct() {
        let tableDisplay = '<table>';
        tableDisplay += `<tr>
                <td><h4>Product Name</h4></td>
                <td colspan="2" align="right">${arr.length} products</td>`;
        for (let i = 0; i < arr.length; i++) {
            tableDisplay += `<tr>
                <td>${arr[i]}</td>
                <td><button type="button" onclick="editProduct(${i})">Edit</button></td>
                <td><button type="button" onclick="deleteProduct(${i})">Delete</button></td>`
            tableDisplay += `</tr>`;
        }
        tableDisplay += `</table>`;
        document.getElementById('displayProduct').innerHTML = tableDisplay;
    }

    function editProduct(index) {
        arr[index] = prompt('Enter new Product you want edit:')
        if (Boolean(arr[index])) {
            displayProduct()
        } else {
            alert('Ban khong thay doi gi')
        }
    }

    function deleteProduct(index) {
        let confirmDelete = confirm('Are you sure?');
        if (confirmDelete) {
            arr.splice(index, 1);
        }
        displayProduct();
    }

</script>
</body>
</html>